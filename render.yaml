services:
  - type: web
    name: moltbot
    runtime: docker
    plan: free
    
    # ✅ 改用 overrideCommand（Docker 專用）
    overrideCommand:
      - moltbot
      - gateway
      - --port
      - "10000"
    
    healthCheckPath: /health
    
    envVars:
      - key: PORT
        value: "10000"
      - key: SETUP_PASSWORD
        sync: false
      - key: CLAWDBOT_STATE_DIR
        value: /tmp/.clawdbot
      - key: CLAWDBOT_WORKSPACE_DIR
        value: /tmp/workspace
      - key: CLAWDBOT_GATEWAY_TOKEN
        generateValue: true
